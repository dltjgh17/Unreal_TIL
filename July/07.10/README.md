

# 📘 챌린지반 2일차 TIL - 리팩토링의 균형

## ✅ 오늘의 키워드: **리팩토링의 균형 감각**

리팩토링은 단순히 코드를 바꾸는 것이 아니라 **가독성, 유지보수성, 확장성**을 높이기 위한 **코드 구조 개선 작업**이다.
특히 리팩토링의 핵심은 **상반된 원칙을 잘 융합하는 것**에 있다.

* **나눌 것인가? 묶을 것인가?**
* **숨길 것인가? 드러낼 것인가?**
* **조건문인가? 다형성인가?**
* **상속인가? 위임인가?**

이처럼 **상반된 전략들 사이에서의 균형감각이 중요**하며, 당장 모든 것을 적용하기보다는 "적재적소"에 사용할 수 있는 **감각과 습관**을 키우는 것이 중요하다.



## 1️⃣ 코드 세분화 vs 코드 통합

| 코드 세분화                     | 코드 통합                         |
| -------------------------- | ----------------------------- |
| 함수 추출하기, 변수 추출하기, 클래스 추출하기 | 함수 인라인하기, 변수 인라인하기, 클래스 인라인하기 |

**결정 기준**

* 세분화가 유리한 경우:

  * 코드가 복잡하고 이해하기 어려울 때
  * 재사용 및 수정 가능성이 높을 때
  * ‘무엇’과 ‘어떻게’를 분리할 필요가 있을 때
* 통합이 유리한 경우:

  * 추상화가 오히려 복잡할 때
  * 간단한 로직이 불필요하게 분리되어 있을 때



## 2️⃣ 객체 세분화 vs 객체 통합

| 객체 세분화                       | 객체 통합                     |
| ---------------------------- | ------------------------- |
| 매개변수 객체 만들기, 단계 쪼개기, 반복문 쪼개기 | 여러 함수를 클래스로 묶기, 변환 함수로 묶기 |

**결정 기준**

* 세분화가 유리한 경우:

  * 책임이 명확히 나뉘는 경우
  * 독립 테스트가 필요한 경우
* 통합이 유리한 경우:

  * 강한 응집력이 필요한 경우
  * 공유 상태 관리가 필요한 경우



## 3️⃣ 간접 접근 vs 직접 접근

| 간접 접근            | 직접 접근            |
| ---------------- | ---------------- |
| 변수/레코드/컬렉션 캡슐화하기 | 중개자 제거하기, 위임 숨기기 |

**결정 기준**

* 간접 접근이 유리한 경우:

  * 데이터 유효성 검사, 추적, 향후 변경 고려 시
* 직접 접근이 유리한 경우:

  * 성능이 중요하거나, 단순 데이터 구조인 경우



## 4️⃣ 조건문 vs 다형성

| 조건문            | 다형성                         |
| -------------- | --------------------------- |
| 조건문 분해, 조건식 통합 | 조건부 로직을 다형성으로 변경, 특이 케이스 패턴 |

**결정 기준**

* 조건문이 유리한 경우:

  * 단순 분기, 일회성 로직
* 다형성이 유리한 경우:

  * 타입별 동작 차이, 확장성이 중요한 경우


## 5️⃣ 상속 vs 위임

| 상속                   | 위임                       |
| -------------------- | ------------------------ |
| 메서드/필드 올리기, 슈퍼클래스 추출 | 서브클래스를 위임으로, 슈퍼클래스를 위임으로 |

**결정 기준**

* 상속이 유리한 경우:

  * 명확한 “is-a” 관계
  * 공통 기능, 계층 구조가 필요한 경우
* 위임이 유리한 경우:

  * 동작 변경, 다중 기능 조합이 필요할 때
  * 기존 클래스 변경 없이 확장하고 싶을 때



## 🎯 느낀점

리팩토링은 단순히 "고쳐 쓰는 것"이 아니라, **유지보수성과 확장성**을 고려한 **전략적 구조 개선**이라는 점을 다시 한번 느꼈다.
나누는 것과 묶는 것, 숨기는 것과 드러내는 것 사이의 균형이 정말 중요하다는 것을 실감했다.
앞으로는 당장의 리팩토링보다는, **언제, 어떤 상황에서 이 원칙을 써야 하는지 감각을 기르는 것**을 목표로 삼아야겠다.


